<!DOCTYPE html>
<html>
  <head>
    <title>About Me</title>
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <script src="https://storage.googleapis.com/feednami-static/js/feednami-client-v1.0.1.js"></script>

    <script>
      window.onload = function() {
        // functions that run after page loads
        displayGreeting();
        fetchWeather(85719);
        function displayRSSFeed();
      }
      // display good morning, afternoon or evening based on the time
      function displayGreeting() {
        var date = new Date();
        var hour = date.getHours();
        var description = "";
        if (hour < 12) {
          description = "morning";
        } else if (hour < 17) {
          description = "afternoon";
        } else {
          description = "evening";
        }
        document.getElementById("greeting").innerHTML = "Good " + description;
      }
      // get weather data from openweathermap and display the current temp
      function fetchWeather() {
        fetch("https://api.openweathermap.org/data/2.5/weather?zip=85719,US&appid=a451cb4e31453448d191c1330730f16f&units=imperial")
        .then(function(resp) { return resp.json() })
        .then(function(data) {
          document.getElementById("weather").innerHTML = "The current temperature is " + data.main.temp + "<span>&#176</span> in Tucson Ariz."
        })
        .catch(function() {
          document.getElementById("weather").innerHTML = "Error in fetch Weather function";
        });
      }
    </script>
  </head>
  <body>

    <div id="greeting"></div>
   <div id="weather"></div>

    function displayRSSFeed() {
        // fetch an RSS feed and display the title and description
        var origURL = 'https://tucson.com/search/?f=rss%26t=article&c=news/national&l=25&s=start_time&sd=desc';
        // feednami doesn't like & so replace with %26
        var replacedURL = origURL.replace(/&/g, "%26");
        feednami.load(replacedURL,function(result) {
            console.log(result.error);
          } else {
            var entries = result.feed.entries
            for (var i = 0; i < entries.length; i++) {
              var entry = entries[i];
              let divElement = '<div class="rss_title"><a href="' + entry.link + '" target="_blank">' + entry.title + '</a></div><div class="rss_description">' + entry.description + '</div>';
              document.getElementById("rss_items").innerHTML += divElement;
            }
          }
        });
      }


<center>
    <div class="name_container">Lisa Urban</div>
</center>
  <center>

    <div class="content_container">

    <div class="image_container">
      <img src="media/Chewy.jpg"></center></div>

    <link rel="stylesheet" href= "site.css">
      <center><div class= "biobox">
          I am the captain of the UA Roller Derby team.
          My dream is to live in NYC as a lawyer.
          I am a junior majoring in PPEL and Journalsim.
        </div></center>

      </div>

<div class="clear"></div>
          <center><div class="news_container">
          <div class="newstitle">News Sites</div><center/>
          <div class="newssite"><a href="https://www.wsj.com" Target="_blank">The Wall Street Journal</a></div>
          <div class="newssite"><a href="https://www.huffpost.com" Target="_blank">Huffington Post</a></div>
          <div class="newssite"><a href="http://nytimes.com" Target="_blank">New York Times</a></div>
          <div class="newssite"><a href="https://www.theguardian.com/us" Target="_blank">The Guardian</a></div>
          <div class="newssite"><a href="https://www.npr.org" Target="_blank">NPR</a></div>
          <div class="newssite"><a href="http://www.washingtonpost.com" Target="_blank">The Washington Post</a></div>



  </body>
</html>
